{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2025-07-06T00:53:48.869162+00:00",
  "repo": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 3,
      "id": "I_kwDOKv5r-s6C6zv7",
      "title": "Pairwise identifiers",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/3",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "The subject identifier between apps doesn't need to be the same. Mention how the IdP can use a different subject identifier targeted at the AS. ",
      "createdAt": "2024-03-20T01:38:36Z",
      "updatedAt": "2024-07-02T20:27:31Z",
      "closedAt": "2024-07-02T20:27:31Z",
      "comments": [
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "sub - The \"User ID at the IdP\" can be changed to \"subject identifier\" recognized by AS",
          "createdAt": "2024-06-11T19:10:47Z",
          "updatedAt": "2024-06-20T17:01:54Z"
        },
        {
          "author": "randomstuff",
          "authorAssociation": "NONE",
          "body": "> sub - The User ID at the IdP can be cahnged to subject identifier recognized by AS\r\n\r\nIt might be worth discussing how the IdP could do this mapping.",
          "createdAt": "2024-06-17T21:36:18Z",
          "updatedAt": "2024-06-17T21:36:18Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "I think this is an implementation detail, but because the IdP is used by both RS and Client, it should understand the sub claims that the Resource Server's AS expects. ",
          "createdAt": "2024-06-20T17:02:04Z",
          "updatedAt": "2024-06-20T17:02:04Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "In typical SSO, an enterprise IdP might already send different subject identifiers for the same user to different apps that are signing in. This note is just to add a sentence that describes this, and also to make it clear that we are *not* trying to change this behavior to require that all user IDs are identical across both apps in this flow.",
          "createdAt": "2024-06-20T17:05:35Z",
          "updatedAt": "2024-06-20T17:05:35Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "This was updated here and now no longer makes it sound like the `sub` value is the same across everything: https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/commit/66a511fbd7695e214433ff4f5c0ec7b87c6af461",
          "createdAt": "2024-07-02T20:27:31Z",
          "updatedAt": "2024-07-02T20:27:31Z"
        }
      ]
    },
    {
      "number": 4,
      "id": "I_kwDOKv5r-s6C6z3D",
      "title": "Mention that this profile assumes there is a single IdP that is trusted by both apps",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/4",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "This is mentioned in the appendix, but should be mentioned earlier. This also simplifies pairwise identifiers in #3.",
      "createdAt": "2024-03-20T01:38:52Z",
      "updatedAt": "2024-07-02T20:18:29Z",
      "closedAt": "2024-07-02T20:18:29Z",
      "comments": []
    },
    {
      "number": 6,
      "id": "I_kwDOKv5r-s6Dbsyk",
      "title": "Identity Assertion Authz Grant allows broadening the scope",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/6",
      "state": "CLOSED",
      "author": "obfuscoder",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "I followed the presentation at the IETF 119 for this topic. The profile describes how an ID Token is used to get a JWT Authorization Grant and then to get an Access Token for that JWT Authorization Grant. The scope can be defined by the client when requesting the access token.\r\n\r\nAs the JWT Authorization Grant profile is designed to allow interop across several domains, each AS in the participating domain will support creating authorization grant JWTs as well as accepting authorization grant JWTs to issue access tokens.\r\n\r\nUsually a client receives an access token alongside the ID Token and the client can use Token Exchange to get additional access tokens with equal or narrowed down scope.\r\n\r\nThe ID Token does not contain any scope. So even if a client only received an Access Token with a specific narrow scope, the client could abuse this grant by asking AS of domain A for an authorization grant JWT based on the Id Token and then use this authz grant JWT at the AS of domain A again to obtain a new access token with arbitrary scope (up to what is allowed for the client as per policy).\r\n\r\nAlthough this could be prohibited by the AS not accepting authorization grant JWTs it issued itself, the client could request the authorization grant JWT from the AS of domain B with just a couple more steps.\r\n\r\nGranted, this may not be relevant for the enterprise environment the JWT authorization grant profile is meant for as the End-User is usually not asked for giving consent to the scope requested by clients and instead the allowed scope in defined by policies within the AS configs. However, I'd like to ask if this is something worth to consider.",
      "createdAt": "2024-03-25T07:25:11Z",
      "updatedAt": "2025-06-20T23:07:33Z",
      "closedAt": "2025-06-20T23:07:33Z",
      "comments": [
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "I agree there should be a reiteration that this draft is intended for cross-domain use cases only, or an explicit mention that the IDP Authorization Server should not accept ID-JAGs issued from itself (or where the `resource` in the request is the requesting Client's token endpoint, although as you mentioned, in the enterprise use case some policies should prevent this)",
          "createdAt": "2024-06-10T15:06:05Z",
          "updatedAt": "2024-06-10T15:06:05Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "I added a brief section in the security considerations about this. It could probably use some more filling out.",
          "createdAt": "2024-07-02T20:12:05Z",
          "updatedAt": "2024-07-02T20:12:05Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "At Dean's suggestion, I changed this to \"MUST NOT\".",
          "createdAt": "2025-06-20T23:07:33Z",
          "updatedAt": "2025-06-20T23:07:33Z"
        }
      ]
    },
    {
      "number": 7,
      "id": "I_kwDOKv5r-s6IIlrx",
      "title": "Add mention of refresh_token field in token response",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/7",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Token Exchange already defines the refresh_token field in the token response, mention why that is useful and when someone might want to do that.",
      "createdAt": "2024-05-07T18:15:40Z",
      "updatedAt": "2024-06-11T19:07:26Z",
      "closedAt": "2024-06-11T19:07:26Z",
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "we aren't planning on returning a refresh token here anymore",
          "createdAt": "2024-06-11T19:07:26Z",
          "updatedAt": "2024-06-11T19:07:26Z"
        }
      ]
    },
    {
      "number": 8,
      "id": "I_kwDOKv5r-s6IIoUj",
      "title": "Give an example of the refresh token flow",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/8",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Input to token exchange is:\r\n\r\n* `subject_token=<refresh token>`\r\n* `subject_token_type=urn:ietf:params:oauth:token-type:refresh_token`\r\n\r\nResponse includes a JWT as well as optional new refresh token\r\n",
      "createdAt": "2024-05-07T18:22:53Z",
      "updatedAt": "2024-06-11T19:06:14Z",
      "closedAt": "2024-06-11T19:06:14Z",
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "Instead we'll recommend using the refresh token to get a new ID token.",
          "createdAt": "2024-06-11T19:06:14Z",
          "updatedAt": "2024-06-11T19:06:14Z"
        }
      ]
    },
    {
      "number": 9,
      "id": "I_kwDOKv5r-s6IhbRH",
      "title": "Note about SAML user identifiers",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/9",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Add a note:\r\n\r\nThe IdP needs to ensure there is an IdP-recognizable value to identify the user in the SAML assertion. For example if the IdP transforms the user ID to something specific to the app as the nameID, it needs to also include the actual unique user ID as a custom claim that it can use to identify the user when the SAML assertion is passed back to the IdP.",
      "createdAt": "2024-05-10T22:02:06Z",
      "updatedAt": "2024-06-11T19:05:57Z",
      "closedAt": "2024-06-11T19:05:57Z",
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "Going to do this a different way, recommending exchanging the SAML assertion for an ID token first.",
          "createdAt": "2024-06-11T19:05:57Z",
          "updatedAt": "2024-06-11T19:05:57Z"
        }
      ]
    },
    {
      "number": 10,
      "id": "I_kwDOKv5r-s6L38zs",
      "title": "Update based on decisions about SAML and refresh token usage",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/10",
      "state": "CLOSED",
      "author": "sdesen",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "- Close #9 \r\n- Close #8 \r\n- Close #7 \r\n- Remove option to use SAML assertion as the subject_token in the exchange\r\n- Make a note about obtaining ID tokens from token exchange after authenticating with SAML",
      "createdAt": "2024-06-11T15:17:31Z",
      "updatedAt": "2024-06-11T19:07:33Z",
      "closedAt": "2024-06-11T19:07:33Z",
      "comments": []
    },
    {
      "number": 12,
      "id": "I_kwDOKv5r-s6L5g5t",
      "title": "Add to security concerns section",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/12",
      "state": "OPEN",
      "author": "sdesen",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "- #6 \r\n- and other threat models considerations\r\n- extra considerations for scopes and scope validation",
      "createdAt": "2024-06-11T19:12:41Z",
      "updatedAt": "2024-07-09T18:46:40Z",
      "closedAt": null,
      "comments": [
        {
          "author": "kamronbatman",
          "authorAssociation": "NONE",
          "body": "* We should add some kind of verbiage similar to [RFC 9470 Section 9](https://www.rfc-editor.org/rfc/rfc9470.html#section-9) regarding authentication/sessions.\r\n* We should probably add some recommendation about the lifetime of the jag token to the effect of that the token should only live as long as necessary to exchange. This is reinforced by the idea that an oauth id-token refresh token can be used to get an unexpired id token to exchange for another id jag. ",
          "createdAt": "2024-07-09T18:45:32Z",
          "updatedAt": "2024-07-09T18:46:40Z"
        }
      ]
    },
    {
      "number": 13,
      "id": "I_kwDOKv5r-s6MkWCT",
      "title": "Why don't the IdP requests the access token from the AS?",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/13",
      "state": "OPEN",
      "author": "randomstuff",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "The scenario described works as follows:\r\n\r\n1. client obtains ID token;\r\n2. client exchanges ID token with IdP against JAG;\r\n3. client requests AT from AS using JAG as an assertion;\r\n4. client uses AT on the RS.\r\n\r\nA downside of this approach is that in step 3, the client must be registered on the AS.\r\n\r\nWhy wouldn't/couldn't the AS take care of step 3?\r\n\r\nThis would make the process simpler for the client:\r\n\r\n* the client does not need to know that the RS is associated with another domain;\r\n* the client does not need to know that the AS exists at all;\r\n* the client therefore does not need to have credentials for the AS.\r\n\r\nThe fact that the RS is in another domain would be transparent for the client. You could have one deployment where the RS in in the same domain and another deployment where is is in another domain without having to change the client logic.\r\n\r\nModified scenario:\r\n\r\n1. client obtains ID token;\r\n2. client exchange ID token with IdP against AT;\r\n  a. in order to obtain the AT, the AS might need to generate an assertion and send it to the AS\r\n4. client uses AT on the RS.\r\n\r\nOne downside is that from the point of view, the token are issued to the IdP but surely this can be worked-around with some extension.\r\n",
      "createdAt": "2024-06-17T21:58:37Z",
      "updatedAt": "2024-06-20T15:08:10Z",
      "closedAt": null,
      "comments": [
        {
          "author": "kamronbatman",
          "authorAssociation": "NONE",
          "body": "The approach we took (which is malleable, as we want to build a simple and reusable flow with the least assumptions), is to have the least amount of burden on both the client (requesting application) and the RS AS. In doing that,  step 3 is fine because right now clients already are registered with the RS AS to request tokens directly and facilitate SSO flows. We wanted to lean into that by shifting as much of the burden to the identity provider, especially since the identity provider has all of the information about the user/organization and their relationships.\r\n\r\nI do like the simplicity of the proposed modified scenario and I think we should continue hammering out details to see if this kind of approach could work.\r\n\r\nI think we also agree that front loading the `client_id` and `resource` identifiers for mapping on the identity provider is not ideal. Unfortunately, I also believe requiring the IdP to register a client on every RS AS to do a new on-behalf exchange is not ideal either, especially since that is technically 3rd party to the existing client and AS oAuth registration/trust relationship.",
          "createdAt": "2024-06-18T19:00:54Z",
          "updatedAt": "2024-06-18T19:02:53Z"
        },
        {
          "author": "randomstuff",
          "authorAssociation": "NONE",
          "body": "So I've been thinking (more/better) about my modified scenario. Some drawbacks are:\r\n\r\n* If a refresh_token was issued, the IdP now would be responsible for handling the token refresh request and forwarding it to the AS. I guess the IdP would have to store the original refresh token and send a new refresh token to the client.\r\n* The IdP would now be responsible for handling token revocations requests from the client. For the refresh token, the the approach from the previous point could be used but this is more complex for the access token.\r\n* The IdP would have to forward (and possibly filter/translate) many parameters such as scope, etc.\r\n* The client would not have the AS server metadata as it would not have a direct relationship with the AS.\r\n* DPoP forwarding would not work.",
          "createdAt": "2024-06-20T06:32:19Z",
          "updatedAt": "2024-06-20T06:35:12Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "If all AS responsibilities required for a typical OAuth consent flow were shifted to the IdP, then the IdP would become the AS for an intents and purposes, and then the Client would just make a typical request for an access token. No other steps would be needed. This spec is intended to leverage the common scenario where OAuth relationships exist and the AS may be independent of the IdP.\r\n\r\nHowever, I agree it makes sense to think about where changes can be made for the scenario where the relationship might not already exist, so very much appreciate this comment.\r\n\r\nFor this point:\r\n> the client does not need to know that the RS is associated with another domain;\r\n\r\nI am not sure I understand if this is true, because the client needs to make the resource request regardless from the RS.",
          "createdAt": "2024-06-20T15:04:17Z",
          "updatedAt": "2024-06-20T15:08:10Z"
        }
      ]
    },
    {
      "number": 14,
      "id": "I_kwDOKv5r-s6MkdcS",
      "title": "Discuss the need for client_id mapping",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/14",
      "state": "OPEN",
      "author": "randomstuff",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Section 5.3 [Identity Assertion Authorization Grant JWT](https://datatracker.ietf.org/doc/html/draft-parecki-oauth-identity-assertion-authz-grant#name-identity-assertion-authoriz) says that the IdP should generate a Identity Assertion Authorization Grant JWT with:\r\n\r\n> client_id - Client ID as registered with the Resource Application's authorization server\r\n\r\nThis means that the IdP must use a mapping between the `client_id` at the IdP and the `client_id` at the AS. I don't believe this requirement is explicitly mentioned. Maybe this should be discussed.",
      "createdAt": "2024-06-17T22:19:13Z",
      "updatedAt": "2024-06-18T18:22:45Z",
      "closedAt": null,
      "comments": [
        {
          "author": "kamronbatman",
          "authorAssociation": "NONE",
          "body": "Hey @randomstuff - you are right and this is on the docket to add explicitly as part of the formatting rewrite we will be doing soon. Specifically, the IdP will need to map the client authentication and `resource` (token endpoint) to the client's `client_id` at the Resource Server AS.",
          "createdAt": "2024-06-18T18:22:43Z",
          "updatedAt": "2024-06-18T18:22:43Z"
        }
      ]
    },
    {
      "number": 16,
      "id": "I_kwDOKv5r-s6zDlEk",
      "title": "Add Authorization Server metadata to enable discovery of grant/token type.",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/16",
      "state": "OPEN",
      "author": "mcguinness",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "[OAuth 2.0 Authorization Server Metadata](https://datatracker.ietf.org/doc/html/rfc8414) enables a client to discover capabilities of a given authorization server.   For example a client can fetch AS metadata to determine what endpoints, grant types, and scopes the AS supports and then dynamically construct a valid request for a supported granted type.  This enables the client to negotiate the right capabilities at runtime with an Authorization Server vs hard-coding assumptions for a given AS.\n\nA given client currently as no mechanism to discover\n\n- Whether an AS supports issuing `urn:ietf:params:oauth:token-type:id-jag` token type with Token Exchange\n- Whether an AS supports `oauth-id-jag+jwt` JWT as a valid JWT bearer grant type (`urn:ietf:params:oauth:grant-type:jwt-bearer`)\n\nUnfortunately [Token Exchange](https://www.rfc-editor.org/rfc/rfc8693)  doesn't define an authorization server metadata parameter for `requested_token_types_supported`  that could publish `urn:ietf:params:oauth:token-type:id-jag` as supported token type.  Adding the registration would enable clients to discover what token types they could request from a given AS\n\nSimilarly, the new draft revision of [JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants](https://www.ietf.org/archive/id/draft-jones-oauth-rfc7523bis-00.html)  also doesn't define an authorization server metadata parameter for what profiles are supported.  A new parameter such as `jwt_assertion_token_types_supported` would enable a client to know what assertion profiles an Authorization Supports such as `urn:ietf:params:oauth:token-type:id-jag`. \n\nWithout these additional values a client would need to hard-code support for this profile for a given Authorization Server.\n\n\n\n",
      "createdAt": "2025-04-18T05:53:52Z",
      "updatedAt": "2025-07-02T23:14:16Z",
      "closedAt": null,
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "We need to treat these two questions separately. \n\nThe question of whether an AS (IdP) supports the \"ID JAG\" token exchange is necessary to avoid hard-coding support for this with out-of-band information.\n\nThe question of whether the JWT bearer grant type is supported is less helpful, because we actually need more information than that to do anything useful. The main feedback we've heard from implementers is they want to know whether an access token request will work with this flow for a given user. That is more than just whether the grant type is supported at the AS, because it also depends on the policies configured at the IdP. So what's actually needed is more of a \"list the applications I'll be able to get an access token using an ID-JAG from given the user and application context\", which looks more like a service call and less like a static discovery document.",
          "createdAt": "2025-06-27T15:53:21Z",
          "updatedAt": "2025-06-27T15:53:21Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "This PR on the Identity Chaining draft establishes the new `identity_chaining_requested_token_types_supported` property in AS metadata. I added a section to this draft for it. We'll address the second question about the JWT Bearer grant type later.",
          "createdAt": "2025-07-02T23:14:16Z",
          "updatedAt": "2025-07-02T23:14:16Z"
        }
      ]
    },
    {
      "number": 17,
      "id": "I_kwDOKv5r-s60RMm7",
      "title": "Client ID Registration",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/17",
      "state": "OPEN",
      "author": "PieterKas",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "\"client_id: : REQUIRED - An identifier of the client that this JWT was issued to, which MUST be recognized by the Resource Application's authorization server. For interoperability, the client identifier SHOULD be a client_id as defined in Section 4.3 {{RFC8693}}.\"\n\nIs the expectation for this draft that the same client_id is used and registered with different authorisation servers in different domains (in this case the IdP and Resource Application Authorization Server? This might get unwieldy at scale, especially in a world where a client may have to register with multiple authorisation servers.\n\nAs an alternative, some allowance for supporting multiple client_ids might be needed. This may be either through some kind of static mapping (also hard to maintain), or by allowing the client to specify additional client_ids for which the assertion may be used. \n\nAn additional point to clarify may be that the Resource Appliction's Authorization Server MUST verifiy that the client_id in the assertion match the client_id of the client presenting the assertion.",
      "createdAt": "2025-04-28T10:02:31Z",
      "updatedAt": "2025-06-20T23:06:16Z",
      "closedAt": null,
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "No, there is no expectation that everyone shares the same client ID database, that's why I used the language \"recognized by the Resource Application's authorization server\".\n\nI hadn't considered multiple, that could be an option.",
          "createdAt": "2025-04-28T20:46:31Z",
          "updatedAt": "2025-04-28T20:46:31Z"
        },
        {
          "author": "PieterKas",
          "authorAssociation": "NONE",
          "body": ">No, there is no expectation that everyone shares the same client ID database, that's why I used the language \"recognized by the Resource Application's authorization server\".\n\nSo, if I had a client that was registered with the IdP, and I used client_id_1 for that, I would not be expected to also use client_id_1 with the Resource applications authorization server, but could use client_id_2 with the Resource application's authorization server. How would the IdP know client_id_2 when including it in the JWT Authorization grant? There should probably be some guidance on implementation options (including a protocol option to allow the client to define what it wants as the client_id in the JWT - along with security considerations on that practice).",
          "createdAt": "2025-04-29T14:14:27Z",
          "updatedAt": "2025-04-29T14:14:27Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "> An additional point to clarify may be that the Resource Appliction's Authorization Server MUST verifiy that the client_id in the assertion match the client_id of the client presenting the assertion.\n\nThis is already noted here in section 6.1, was there more clarification you were thinking about:\n\n```\nThe client_id claim MUST identify the same client as the client authentication in the request.\n```\n\n> How would the IdP know client_id_2 when including it in the JWT Authorization grant? \n\nExcellent point that is also brought up in [this issue ](https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/14). Outside of recommending that the IdP maintain this mapping, we should prioritize thinking about other options or implementations that are more scalable....",
          "createdAt": "2025-04-29T17:17:33Z",
          "updatedAt": "2025-04-29T17:17:33Z"
        },
        {
          "author": "PieterKas",
          "authorAssociation": "NONE",
          "body": "Cool - I am thinking of the kind of use cases we see with MCP and the potential application of this spec in that context. Static mapping is not going to be practical, so we need something more \"dynamic\" that doesn't require the IdP to know about client_id registration in the Resource Application's Authorization Server.\n\n>This is already noted here in section 6.1, was there more clarification you were thinking about:\n\nMissed it, great to see it is there already!\n\n",
          "createdAt": "2025-04-29T18:07:29Z",
          "updatedAt": "2025-04-29T18:07:29Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "Totally agree and its not necessarily info that Auth Servers may want on publicly available metadata endpoints, even thought ClientIDs are public..... need to give it more thought. curious on Araron's thoughts too. \n\nDCR could be an avenue to explore, but can't be the only solution.",
          "createdAt": "2025-04-29T20:36:03Z",
          "updatedAt": "2025-04-29T20:36:03Z"
        },
        {
          "author": "PieterKas",
          "authorAssociation": "NONE",
          "body": "Agreed that we will need multiple solutions for client_id. ",
          "createdAt": "2025-05-02T09:53:22Z",
          "updatedAt": "2025-05-02T09:53:22Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "Is there any suggested changes needed here?",
          "createdAt": "2025-06-20T23:06:16Z",
          "updatedAt": "2025-06-20T23:06:16Z"
        }
      ]
    },
    {
      "number": 19,
      "id": "I_kwDOKv5r-s61Mtvp",
      "title": "Nits in the draft",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/19",
      "state": "CLOSED",
      "author": "deansaxe",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "After reviewing the draft and discussing with @aaronpk last week, I have two nits to discuss to help clarify the language in the doc:\n\nSection 5.2 under **scope** states, \"This may be fewer scopes than the application requested\".  I believe the intent is that the scopes cannot grow in their impact.  This may be fewer in number, or it may be more scopes with a narrower set of authorized actions.  I suggest rewriting this slightly to clarify the intent is to constrain the scope, not the number of scopes in use.\n\nSection 7.3 states, \"The Identity Providers SHOULD NOT issue access tokens in response to an ID-JAG it issued itself\".  I agree with the intent, but stronger language is necessary.  I suggest changing this to \"MUST NOT\".\n\n",
      "createdAt": "2025-05-05T15:17:31Z",
      "updatedAt": "2025-06-20T23:08:07Z",
      "closedAt": "2025-06-20T23:08:07Z",
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "> Section 5.2 under scope states, \"This may be fewer scopes than the application requested\".\n\nThanks, I'm going to copy the scope language from RFC6749 and use \"different\" instead of \"fewer\".\n\n> Section 7.3 states, \"The Identity Providers SHOULD NOT issue access tokens in response to an ID-JAG it issued itself\"\n\nAgreed, I don't see any harm in saying MUST NOT here. ",
          "createdAt": "2025-06-20T23:01:35Z",
          "updatedAt": "2025-06-20T23:01:35Z"
        }
      ]
    },
    {
      "number": 20,
      "id": "I_kwDOKv5r-s63y15Z",
      "title": "Consider audience param in token ex request as the resource server indicator",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/20",
      "state": "CLOSED",
      "author": "sdesen",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "According to spec, audience param must not be used\nbut there is a valid case for it to indicate  resource server information in addition to the issuerURL in the resource request param\nFirst, other IdPs may have implementations where this is necessary and secondly can help disambiguate between resource severs served by 1 AS",
      "createdAt": "2025-05-22T14:20:18Z",
      "updatedAt": "2025-06-30T23:21:24Z",
      "closedAt": "2025-06-30T23:21:24Z",
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "I tweaked the wording in af6a47f356ce5c0d76e32a30c59069870993a022 to clarify and leave open this possibility",
          "createdAt": "2025-05-22T15:24:10Z",
          "updatedAt": "2025-05-22T15:24:10Z"
        },
        {
          "author": "siacomuzzi",
          "authorAssociation": "NONE",
          "body": "So, in your example, where `https://acme.chat.example/` is the issuer URL of the Resource Application's Authorization Server, if this authorization server has multiple resource servers configured, should the token exchange request look like the following?\n\n```\n&resource=https://acme.chat.example/\n&audience=https://acme.chat.example/api/v3\n```\n\nAssuming that there are other resource servers (eg, `https://acme.chat.example/api/v1`, `https://acme.chat.example/api/v2`).",
          "createdAt": "2025-05-26T10:51:21Z",
          "updatedAt": "2025-05-26T10:52:39Z"
        },
        {
          "author": "siacomuzzi",
          "authorAssociation": "NONE",
          "body": "And how is that reflected in the [Identity Assertion Authorization Grant JWT](https://www.ietf.org/archive/id/draft-parecki-oauth-identity-assertion-authz-grant-03.html#name-identity-assertion-authoriz) payload?\n\nIn other words, which claim should the IdP use in the assertion to specify the resource server (`https://acme.chat.example/api/v3`)?",
          "createdAt": "2025-05-27T10:13:11Z",
          "updatedAt": "2025-05-27T10:17:57Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "This is resolved in #27 ",
          "createdAt": "2025-06-30T23:21:24Z",
          "updatedAt": "2025-06-30T23:21:24Z"
        }
      ]
    },
    {
      "number": 22,
      "id": "I_kwDOKv5r-s68QGkz",
      "title": "How to identify the resource server",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/22",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Problem: The token endpoint at the Authorization Server needs to know which resource to issue the token for. Currently only the Authorization Server is identified in the ID Assertion JWT.\n\nThis is the meta issue to link out to the other issues describing the options under consideration. Please keep the discussions in the appropriate threads.",
      "createdAt": "2025-06-18T22:27:54Z",
      "updatedAt": "2025-06-30T23:21:56Z",
      "closedAt": "2025-06-30T23:21:56Z",
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "We're going with the option in #24, merged in #27 ",
          "createdAt": "2025-06-30T23:21:56Z",
          "updatedAt": "2025-06-30T23:21:56Z"
        }
      ]
    },
    {
      "number": 23,
      "id": "I_kwDOKv5r-s68QI9U",
      "title": "Change the `resource` param in the token exchange request to identify the RS",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/23",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "**Assumptions:**\n\n* Authorization Servers identify Resource Servers with globally unique URIs\n\n**Solution:**\n\nChange the definition of the `resource` parameter to identify the resource server that the final access token will be used at. \n\n```\ngrant_type=urn:ietf:params:oauth:grant-type:token-exchange\n&requested_token_type=urn:ietf:params:oauth:token-type:id-jag\n&resource=https://api.example.com/\n&scope=read\n&subject_token=eyJraWQiOiJzMTZ0cVNtODhwREo4VGZCXzdrSEtQ...\n&subject_token_type=urn:ietf:params:oauth:token-type:id_token\n&client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer\n&client_assertion=eyJhbGciOiJSUzI1NiIsImtpZCI6IjIyIn0...\n```\n\n**Notes:**\n\n* The IdP would need to be able to uniquely identify the resource identifier, and know which authorization server is used by that resource server. The IdP could include both the AS issuer and RS identifier in the ID Assertion JWT.\n* This requires that resource identifiers are globally unique, and the IdP will need to validate that the developer of the app controls the URL, to avoid a random person from using `https://google.com/` as their resource identifier.\n* Not everyone actually uses resource identifiers or has multiple resources under an AS, so it's not clear what value to use in those cases. Just the AS issuer identifier?\n\n",
      "createdAt": "2025-06-18T22:33:17Z",
      "updatedAt": "2025-06-30T23:22:02Z",
      "closedAt": "2025-06-30T23:22:02Z",
      "comments": [
        {
          "author": "mcguinness",
          "authorAssociation": "CONTRIBUTOR",
          "body": "> The IdP would need to be able to uniquely identify the resource identifier, and know which authorization server is used by that resource server\n\nIf we assume an ID Assertion Grant only supports a single issuer (aka authorization server) that has 0 or more resources then we could support multiple `resource` params in the request where at least 1 param value must the issuer.  This would address your last point of \"Not everyone actually uses resource identifiers or has multiple resources under an AS, so it's not clear what value to use in those cases. Just the AS issuer identifier?\"\n\n> This requires that resource identifiers are globally unique, and the IdP will need to validate that the developer of the app controls the URL, to avoid a random person from using https://google.com/ as their resource identifier\n\nAgain if we assume a single issuer is supported, then only the issuer's `resource` value would have to be unique. The IdP would resolve additional resources using the issuer as the key. _Note the non-issuer value just needs to be a URI not a URL_\n",
          "createdAt": "2025-06-18T23:19:25Z",
          "updatedAt": "2025-06-18T23:27:33Z"
        },
        {
          "author": "mcguinness",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Both this approach and #24 have the same challenge with `resource` or `audience` being  \"where the client intends to use the requested security token\".   The ID Assertion Grant is not an access token so it must first be exchanged for an access token but still needs to capture the authorization needed for an access token.     Since we are defining a new token type with its own semantics, I'm OK with this ambiguity as the end-result is authorization the requested resource. ",
          "createdAt": "2025-06-18T23:40:55Z",
          "updatedAt": "2025-06-18T23:40:55Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "The language there indicates \"target service\" which could be a combined application of the authorization server and resource server. The current implemented treats scopes as the scopes used for the eventual resource server token, further blurring the lines.",
          "createdAt": "2025-06-19T22:41:56Z",
          "updatedAt": "2025-06-19T22:41:56Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "> If we assume an ID Assertion Grant only supports a single issuer (aka authorization server) that has 0 or more resources then we could support multiple resource params in the request where at least 1 param value must the issuer. This would address your last point of \"Not everyone actually uses resource identifiers or has multiple resources under an AS, so it's not clear what value to use in those cases. Just the AS issuer identifier?\"\n\nI added this as a new option: #26 ",
          "createdAt": "2025-06-20T21:41:25Z",
          "updatedAt": "2025-06-20T21:41:25Z"
        }
      ]
    },
    {
      "number": 24,
      "id": "I_kwDOKv5r-s68QK1K",
      "title": "Use `audience` to identify the AS and `resource` to identify the RS",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/24",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Token Exchange defines `resource` as a URI and `audience` as a string.\n\nWe could use `audience` to identify the AS issuer URL, and `resource` to identify the resource server.\n\n```\nPOST /oauth2/token HTTP/1.1\nHost: acme.idp.example\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=urn:ietf:params:oauth:grant-type:token-exchange\n&requested_token_type=urn:ietf:params:oauth:token-type:id-jag\n&audience=https://auth.example.com/\n&resource=https://acme.chat.example/\n&scope=chat.read+chat.history\n&subject_token=eyJraWQiOiJzMTZ0cVNtODhwREo4VGZCXzdrSEtQ...\n&subject_token_type=urn:ietf:params:oauth:token-type:id_token\n&client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer\n&client_assertion=eyJhbGciOiJSUzI1NiIsImtpZCI6IjIyIn0...\n```\n\n**Notes:**\n\n* This maps most cleanly to Resource Indicators (RFC8707)\n* This slightly violates the meaning of the `audience` and `resource` parameters in Token Exchange, since Token Exchange says that the client is asking for a token usable at all the requested target services.\n* For services that don't have a resource identifier, the `resource` parameter could be omitted without it being weird.",
      "createdAt": "2025-06-18T22:38:29Z",
      "updatedAt": "2025-06-30T23:21:34Z",
      "closedAt": "2025-06-30T23:21:34Z",
      "comments": [
        {
          "author": "panva",
          "authorAssociation": "NONE",
          "body": "> This slightly violates the meaning of the audience and resource parameters in Token Exchange, since Token Exchange says that the client is asking for a token usable at all the requested target services.\n\nI believe we could squint a bit here knowing that what Token Exchange issues here is `requested_token_type=urn:ietf:params:oauth:token-type:id-jag`, i.e. not an actual access token.\n\nThe result of this being the following assertion\n\n```\n{\n  \"typ\": \"oauth-id-jag+jwt\"\n}\n.\n{\n  \"jti\": \"9e43f81b64a33f20116179\",\n  \"iss\": \"https://acme.idp.example\",\n  \"sub\": \"U019488227\",\n  \"aud\": \"https://auth.example.com/\",\n  \"resource\": \"https://acme.chat.example/\", // or \"resource\": [\"resource1\", \"resource2\", ...n] when multiple resource parameters are used\n  \"client_id\": \"f53f191f9311af35\",\n  \"exp\": 1311281970,\n  \"iat\": 1311280970,\n  \"scope\": \"chat.read chat.history\"\n}\n.\nsignature\n```\n\nI think this is OK and most expressive of the three #22 linked threads.",
          "createdAt": "2025-06-20T10:23:46Z",
          "updatedAt": "2025-06-20T10:34:30Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "I have a pull request that implements this option in the spec: #27 ",
          "createdAt": "2025-06-26T22:00:18Z",
          "updatedAt": "2025-06-26T22:00:18Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "This should also close https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/20\n",
          "createdAt": "2025-06-26T22:09:18Z",
          "updatedAt": "2025-06-26T22:09:18Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "Added in #27 ",
          "createdAt": "2025-06-30T23:21:34Z",
          "updatedAt": "2025-06-30T23:21:34Z"
        }
      ]
    },
    {
      "number": 25,
      "id": "I_kwDOKv5r-s68QOBE",
      "title": "Include both the AS issuer URL and RS identifier in a single parameter",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/25",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "The `audience` value could be a structured value such as:\n\n`audience={\"as\":\"https://login.example.com/\",\"resource\":\"https://chat.example.com/\"}`\n\nA PR for this is in #21\n\n**Notes:**\n\n* For services that don't use resource identifiers, the `resource` value can be left out, however that leaves just one value in the JSON object which looks silly.",
      "createdAt": "2025-06-18T22:45:35Z",
      "updatedAt": "2025-06-30T23:22:08Z",
      "closedAt": "2025-06-30T23:22:08Z",
      "comments": [
        {
          "author": "mcguinness",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I am not a fan of this approach.  Using a complex object with special keys that have overlap with other request params is just asking for trouble.   We would be better off modeling this as a RAR request for a token exchange request if we wanted a custom type as this core problem statement is about the IdP authorizing access the resource and issuing a token that contains that authorization.  The RS resource is just part of the authorization just like scopes.",
          "createdAt": "2025-06-18T23:26:31Z",
          "updatedAt": "2025-06-18T23:26:31Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "\n>Using a complex object with special keys that have overlap with other request params \n\n\nI agree with this. Is there anyway to have a JSON POST body, which I guess is a RAR request?",
          "createdAt": "2025-06-19T22:45:35Z",
          "updatedAt": "2025-06-19T22:45:41Z"
        }
      ]
    },
    {
      "number": 26,
      "id": "I_kwDOKv5r-s68nU0Q",
      "title": "Use multiple `resource` parameters, the Authorization Server issuer and one or more Resource Server identifiers",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/26",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Token Exchange allows parameters to be repeated, so we could pass multiple `resource` parameters.\n\n```\ngrant_type=urn:ietf:params:oauth:grant-type:token-exchange\n&requested_token_type=urn:ietf:params:oauth:token-type:id-jag\n&resource=https://auth.example.com/\n&resource=https://api.example.com/\n&scope=read\n&subject_token=eyJraWQiOiJzMTZ0cVNtODhwREo4VGZCXzdrSEtQ...\n&subject_token_type=urn:ietf:params:oauth:token-type:id_token\n&client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer\n&client_assertion=eyJhbGciOiJSUzI1NiIsImtpZCI6IjIyIn0...\n```\n\nNotes:\n\n* This is the cleanest option for what to do if there is no Resource Server indicator needed, since the request would contain only one value, the Authorization Server issuer identifier\n* Repeated parameters in form-encoded requests have a bit of a messy history, not every server framework supports them the same way. Some ignore repeated values, some require adding `[]` to indicate repeated values.\n",
      "createdAt": "2025-06-20T21:40:59Z",
      "updatedAt": "2025-06-30T23:22:13Z",
      "closedAt": "2025-06-30T23:22:13Z",
      "comments": []
    },
    {
      "number": 28,
      "id": "I_kwDOKv5r-s69oEQA",
      "title": "Proof-of-Possession Token for Resource App",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/28",
      "state": "OPEN",
      "author": "mcguinness",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "The spec currently isn't clear how a client should meet proof-of-possesion requirements such as DPOP for an ID-JAG for Resource App's Authorization Server token request or the issued token from a Resource App's Authorization Server for a Resource App's Resource Server\n\nOAuth Identity and Authorization Chaining Across Domains has a section on [Delegated Key Binding](https://drafts.oauth.net/oauth-identity-chaining/draft-ietf-oauth-identity-chaining.html#name-delegated-key-binding)\n\nID Assertions currently don't support proof-of-possesion although some folks [have found workarounds](https://github.com/openpubkey/openpubkey)\n\nSince `actor_token` is not used by this profile, we currently don't flow any `cnf` claims into the ID-JAG.  \n\n- Should the client just send a DPoP proof JWT in a DPoP header when making an access token request to the Resource App's Authorization Server?   \n  - A client is currently free to use a different key with each Resource App Authorization Server as there is not binding back to the ID-JAG\n- Should we also support a DPoP proof with ID-JAG? \n  - A client can pass the proof on the token exchange request and we could flow to the ID-JAG and the Resource App Authorization Server could verify the proof. \n\n\n\nI think it should be possible to bind a ID-JAG to a key\n\n\n",
      "createdAt": "2025-06-27T05:18:48Z",
      "updatedAt": "2025-07-04T11:33:46Z",
      "closedAt": null,
      "comments": [
        {
          "author": "panva",
          "authorAssociation": "NONE",
          "body": "> I think it should be possible to bind a ID-JAG to a key\n\nI think so too.\n\n- Proof of possession presented during Token Exchange -> ID-JAG gets a `cnf` as per [RFC7800](https://www.rfc-editor.org/rfc/rfc7800.html) _/ [DPoP](https://www.rfc-editor.org/rfc/rfc9449.html). /but there's no indication in the response that binding was done tho (token_type is fixed to N_A), does it matter? I think not, the client can simply do PoP again during ID-JAG exchange/_\n- Proof of possession presented during ID-JAG exchange\n\t- (ID-JAG has cnf) - it must match and tokens get constrained, failure otherwise\n\t- (ID-JAG doesn't have cnf) - tokens get constrained\n- Proof of possession not presented during ID-JAG exchange\n\t- (ID-JAG has cnf) - failure\n\t- (ID-JAG doesn't have cnf) - tokens are not constrained or error (if RS is configured to require constrained tokens)\n\n",
          "createdAt": "2025-06-27T07:44:21Z",
          "updatedAt": "2025-06-27T07:44:21Z"
        },
        {
          "author": "mcguinness",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Since the client needs to send the DPoP proof in a header for a token request with sender-constrained ID-JAG for the Resource App's AS, its not clear that the client is also requesting that the issued access token is also sender-constrained.  The DPoP proof is needed to validate the ID-JAG but also indicates desire to key bind the access token with RFC 9449.   \n\nThe simple answer is that if the ID-JAG contains a `cnf` claim then the issued access token is also bound to the same `cnf` when the AS supports issuing sender-constrained access token for the audience.   A client can't use a different key and can't opt-out of sender-constraining an access token for Resource App if they presented a sender-constrained ID-JAG and the Resource App supports sender-constrained access tokens for the Resource Apps' audience.  Thoughts?",
          "createdAt": "2025-07-03T22:08:29Z",
          "updatedAt": "2025-07-03T22:08:29Z"
        },
        {
          "author": "panva",
          "authorAssociation": "NONE",
          "body": "It's the AS decision whether to issue a sender-constrained token for a particular RS or not, that depends on the configuration at or discretion of the AS. A client sending a proof of possession to the call is but a prerequisite to the decision process.\n\n> https://www.rfc-editor.org/rfc/rfc9449.html#section-5-9\n> An authorization server MAY elect to issue access tokens that are not DPoP bound, which is signaled to the client with a value of Bearer in the token_type parameter of the access token response\n\nSo to update the earlier post\n\n- Proof of possession presented during Token Exchange -> ID-JAG gets a `cnf` as per [RFC7800](https://www.rfc-editor.org/rfc/rfc7800.html) _/ [DPoP](https://www.rfc-editor.org/rfc/rfc9449.html). /but there's no indication in the response that binding was done tho (token_type is fixed to N_A), does it matter? I think not, the client can simply do PoP again during ID-JAG exchange/_\n- Proof of possession presented during ID-JAG exchange\n\t- (ID-JAG has cnf) - it must match and tokens may get constrained per the RS configuration at the AS, failure otherwise\n\t- (ID-JAG doesn't have cnf) - tokens may get constrained per the RS configuration at the AS\n- Proof of possession not presented during ID-JAG exchange\n\t- (ID-JAG has cnf) - failure\n\t- (ID-JAG doesn't have cnf) - tokens are not constrained or error (if RS configuration at the AS is to require constrained tokens for that RS)",
          "createdAt": "2025-07-04T11:33:46Z",
          "updatedAt": "2025-07-04T11:33:46Z"
        }
      ]
    },
    {
      "number": 29,
      "id": "I_kwDOKv5r-s6-V0CR",
      "title": "Probably need a JWT claims registration for `resource` too...",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/29",
      "state": "CLOSED",
      "author": "bc-pi",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Probably need a JWT claims registration for `resource` too...\r\n\r\n_Originally posted by @bc-pi in https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/27#discussion_r2178259002_\r\n            ",
      "createdAt": "2025-07-01T18:08:23Z",
      "updatedAt": "2025-07-02T02:41:53Z",
      "closedAt": "2025-07-02T02:41:46Z",
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "Please let me know if I did that right",
          "createdAt": "2025-07-02T02:41:53Z",
          "updatedAt": "2025-07-02T02:41:53Z"
        }
      ]
    },
    {
      "number": 30,
      "id": "I_kwDOKv5r-s6-jnQL",
      "title": "Claim in ID-JAG corresponding to `resource`",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/30",
      "state": "CLOSED",
      "author": "sdesen",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "What claim in the JAG will represent the value sent in `resource` param?",
      "createdAt": "2025-07-02T19:46:59Z",
      "updatedAt": "2025-07-03T14:35:08Z",
      "closedAt": "2025-07-02T20:14:45Z",
      "comments": [
        {
          "author": "panva",
          "authorAssociation": "NONE",
          "body": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/24#issuecomment-2990814766\n\n```\n{\n  \"typ\": \"oauth-id-jag+jwt\"\n}\n.\n{\n  \"jti\": \"9e43f81b64a33f20116179\",\n  \"iss\": \"https://acme.idp.example\",\n  \"sub\": \"U019488227\",\n  \"aud\": \"https://auth.example.com/\",\n  \"resource\": \"https://acme.chat.example/\", // or \"resource\": [\"resource1\", \"resource2\", ...n] when multiple resource parameters are used\n  \"client_id\": \"f53f191f9311af35\",\n  \"exp\": 1311281970,\n  \"iat\": 1311280970,\n  \"scope\": \"chat.read chat.history\"\n}\n.\nsignature\n``` ",
          "createdAt": "2025-07-02T19:51:52Z",
          "updatedAt": "2025-07-02T19:51:52Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "Ah sorry, totally missed that. I think its because I was looking at the most recently published draft version and not the github repo. TY!",
          "createdAt": "2025-07-02T20:14:43Z",
          "updatedAt": "2025-07-02T20:14:43Z"
        },
        {
          "author": "panva",
          "authorAssociation": "NONE",
          "body": "@sdesen it's not explicitly in the ID-JAG description yet but the `resource` claim is now also in the IANA consideration for exactly that purpose. Let's leave the issue open with an action item to describe this better",
          "createdAt": "2025-07-02T20:18:26Z",
          "updatedAt": "2025-07-02T20:18:26Z"
        },
        {
          "author": "sdesen",
          "authorAssociation": "NONE",
          "body": "Ah, I understand. Thank you. \nIf it gets to that point, and an array is supported, I have some thoughts on the scopes parameter and how it related to the resource indicators.",
          "createdAt": "2025-07-03T14:34:21Z",
          "updatedAt": "2025-07-03T14:35:08Z"
        }
      ]
    },
    {
      "number": 31,
      "id": "I_kwDOKv5r-s6-jn_h",
      "title": "Burst requests",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/issues/31",
      "state": "OPEN",
      "author": "sdesen",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Is there a concern about the bursts of requests, for apps with many integrations, needed to obtain id-jag and their refresh tokens within the lifetime of the id_token? \nAnother option is to use the `offline_access` scope in the OIDC AuthN request, to allow for refreshing of id_tokens, should this spec recommend `offline_access` ?",
      "createdAt": "2025-07-02T19:48:32Z",
      "updatedAt": "2025-07-02T19:48:32Z",
      "closedAt": null,
      "comments": []
    }
  ],
  "pulls": [
    {
      "number": 1,
      "id": "PR_kwDOKv5r-s5odQGI",
      "title": "consistent oauth-itag+jwt",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/1",
      "state": "CLOSED",
      "author": "bc-pi",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "while thinking about how to comment on https://github.com/oauth-wg/oauth-identity-chaining/issues/85 I came to look at what you were doing with typ in this draft and noticed three different media type values...",
      "createdAt": "2024-03-01T22:24:35Z",
      "updatedAt": "2024-03-02T01:07:21Z",
      "baseRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "baseRefName": "main",
      "baseRefOid": "4e997cd8520282b5318a48b4025c210d8587d78e",
      "headRepository": "bc-pi/draft-parecki-oauth-identity-assertion-authorization-grant",
      "headRefName": "patch-1",
      "headRefOid": "4d012ec7b9885b314cdd8e0115ed196e1fec26ac",
      "closedAt": "2024-03-01T22:29:06Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "haha thanks i'm in the middle of fixing it \ud83d\ude43 ",
          "createdAt": "2024-03-01T22:25:21Z",
          "updatedAt": "2024-03-01T22:25:21Z"
        },
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "I fixed it up here, thanks https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authorization-grant/commit/bd15902dc052e0dea3b4483327ebbae84b72d4fa",
          "createdAt": "2024-03-01T22:29:07Z",
          "updatedAt": "2024-03-01T22:29:07Z"
        },
        {
          "author": "bc-pi",
          "authorAssociation": "NONE",
          "body": "That works! Glad I could be (un)helpful. ",
          "createdAt": "2024-03-01T22:31:13Z",
          "updatedAt": "2024-03-01T22:31:13Z"
        },
        {
          "author": "kamronbatman",
          "authorAssociation": "NONE",
          "body": "You caught us in the middle \ud83d\ude04! Thanks @aaronpk for getting that updated.",
          "createdAt": "2024-03-01T22:32:12Z",
          "updatedAt": "2024-03-02T01:07:21Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 2,
      "id": "PR_kwDOKv5r-s5odT4C",
      "title": "Fix grammar in intro",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/2",
      "state": "CLOSED",
      "author": "kamronbatman",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-03-01T22:41:53Z",
      "updatedAt": "2024-03-01T23:16:26Z",
      "baseRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "baseRefName": "main",
      "baseRefOid": "bd15902dc052e0dea3b4483327ebbae84b72d4fa",
      "headRepository": "kamronbatman/draft-parecki-oauth-identity-assertion-authorization-grant",
      "headRefName": "patch-1",
      "headRefOid": "d270099ed9e06f9f7c47ce70956e0c673c92c119",
      "closedAt": "2024-03-01T23:16:26Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "I changed too much and this conflicted. I fixed it in a separate commit!",
          "createdAt": "2024-03-01T23:16:26Z",
          "updatedAt": "2024-03-01T23:16:26Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOKv5r-s5x-dmz",
          "commit": {
            "abbreviatedOid": "d270099"
          },
          "author": "macyabbey",
          "authorAssociation": "NONE",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-03-01T22:45:50Z",
          "updatedAt": "2024-03-01T22:45:50Z",
          "comments": []
        }
      ]
    },
    {
      "number": 5,
      "id": "PR_kwDOKv5r-s5qLOn0",
      "title": "Update draft-parecki-oauth-identity-assertion-authz-grant.md",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/5",
      "state": "MERGED",
      "author": "gffletch",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "Text to address issue #4\r\n\r\nThis needs careful review and may go to far or be too detailed for the Overview section.\r\n\r\nFeedback appreciated!",
      "createdAt": "2024-03-20T04:57:36Z",
      "updatedAt": "2024-06-11T19:12:24Z",
      "baseRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "baseRefName": "main",
      "baseRefOid": "e806cbecb993c6ee9a6bab1678cf2aa278a3e3b1",
      "headRepository": "gffletch/draft-parecki-oauth-identity-assertion-authz-grant",
      "headRefName": "Issue_4",
      "headRefOid": "25f15eba488626f3971ab3d1500f5332e960ca19",
      "closedAt": "2024-06-11T19:12:24Z",
      "mergedAt": "2024-06-11T19:12:24Z",
      "mergedBy": "aaronpk",
      "mergeCommit": {
        "oid": "932f96951616edea3d015ee30c47ad93e43277cc"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOKv5r-s59pnzW",
          "commit": {
            "abbreviatedOid": "25f15eb"
          },
          "author": "sdesen",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "> the IDP is trusted to ensure the scopes identified in the ID-JAG have been correctly authorized before issuing the ID-JAG token\r\n\r\nHow the IDP ensures the scopes may vary, for instance, in section A.1.1 there is no mention of how the IDP should be aware of the scopes Resource Application's allowed scopes for this exchange.\r\n\r\nSo although this is a true statement, I might suggest adding that Resource Application Authorization Servers _may_ also validate the JAG scopes against its own policies in section 6.1 of this draft. Curious on other's thoughts there.\r\n\r\n",
          "createdAt": "2024-06-10T15:01:50Z",
          "updatedAt": "2024-06-10T15:01:50Z",
          "comments": []
        }
      ]
    },
    {
      "number": 11,
      "id": "PR_kwDOKv5r-s5yJAM5",
      "title": "Update for changes to SAML implementation",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/11",
      "state": "MERGED",
      "author": "sdesen",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Address #10 \r\n\r\nMaybe section \"Relationship to RFC7522\" should be removed but I believe we still add an extra secure step as described in the section, so opt to keep it in.\r\n\r\nThe new SAML section added in this PR is an idea for mentioning the SAML implementation. I am not sure how the authors want to approach this which is why this is a draft PR for now.",
      "createdAt": "2024-06-11T17:39:41Z",
      "updatedAt": "2024-06-30T14:54:27Z",
      "baseRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "baseRefName": "main",
      "baseRefOid": "e806cbecb993c6ee9a6bab1678cf2aa278a3e3b1",
      "headRepository": "sdesen/draft-parecki-oauth-identity-assertion-authz-grant",
      "headRefName": "Issue_10",
      "headRefOid": "1945666640c9acd1c9a909f12ee825ed162d1286",
      "closedAt": "2024-06-11T19:05:20Z",
      "mergedAt": "2024-06-11T19:05:20Z",
      "mergedBy": "aaronpk",
      "mergeCommit": {
        "oid": "e4034b48067d8a063efa1e128cb2d3161f8d7267"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 15,
      "id": "PR_kwDOKv5r-s6Sy-Z7",
      "title": "Added example for an AI Agent based flow",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/15",
      "state": "MERGED",
      "author": "mcguinness",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "Initial draft for an AI Agent based flow (e.g MCP)",
      "createdAt": "2025-04-16T08:03:46Z",
      "updatedAt": "2025-04-22T22:13:55Z",
      "baseRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "baseRefName": "main",
      "baseRefOid": "afd78c007d3705cd7a0fa7cb87f35aded3944e87",
      "headRepository": "mcguinness/draft-parecki-oauth-identity-assertion-authz-grant",
      "headRefName": "agent-example",
      "headRefOid": "69817ee846a54f7af7ca77b18dc6576693e8f219",
      "closedAt": "2025-04-22T22:13:55Z",
      "mergedAt": "2025-04-22T22:13:55Z",
      "mergedBy": "aaronpk",
      "mergeCommit": {
        "oid": "5a1192fbc54f2e563359b8242a2acf1810846794"
      },
      "comments": [
        {
          "author": "kamronbatman",
          "authorAssociation": "NONE",
          "body": "This is great, thank you @mcguinness! I am so happy to see you are still active with this spec! I would love to get a debrief on any updates regarding MCP, especially on how it pertains to enterprise, idp, and this spec.",
          "createdAt": "2025-04-22T18:15:17Z",
          "updatedAt": "2025-04-22T18:16:19Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOKv5r-s6mAU5G",
          "commit": {
            "abbreviatedOid": "b6e821a"
          },
          "author": "sdesen",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-04-22T19:16:18Z",
          "updatedAt": "2025-04-22T19:16:19Z",
          "comments": [
            {
              "originalPosition": 29,
              "body": "Should this be a different client id for illustrative purposes?",
              "createdAt": "2025-04-22T19:16:19Z",
              "updatedAt": "2025-04-22T19:16:19Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6mBxod",
          "commit": {
            "abbreviatedOid": "b6e821a"
          },
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-04-22T21:59:01Z",
          "updatedAt": "2025-04-22T21:59:02Z",
          "comments": [
            {
              "originalPosition": 6,
              "body": "```suggestion\r\n  RFC8414:\r\n```",
              "createdAt": "2025-04-22T21:59:01Z",
              "updatedAt": "2025-04-22T21:59:02Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6mB1kX",
          "commit": {
            "abbreviatedOid": "69817ee"
          },
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-04-22T22:11:08Z",
          "updatedAt": "2025-04-22T22:11:08Z",
          "comments": [
            {
              "originalPosition": 29,
              "body": "I do think that would be helpful, I'll change one of them",
              "createdAt": "2025-04-22T22:11:08Z",
              "updatedAt": "2025-04-22T22:11:08Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6mB18s",
          "commit": {
            "abbreviatedOid": "69817ee"
          },
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-04-22T22:11:43Z",
          "updatedAt": "2025-04-22T22:11:43Z",
          "comments": []
        }
      ]
    },
    {
      "number": 18,
      "id": "PR_kwDOKv5r-s6UyJnQ",
      "title": "Standardizes agent.read scope syntax",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/18",
      "state": "MERGED",
      "author": "kamronbatman",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-05-02T18:21:30Z",
      "updatedAt": "2025-05-22T14:55:45Z",
      "baseRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "baseRefName": "main",
      "baseRefOid": "b6b8d60624dd9c28d704a7a91e5c4c3ce121e675",
      "headRepository": "kamronbatman/draft-parecki-oauth-identity-assertion-authorization-grant",
      "headRefName": "patch-2",
      "headRefOid": "7553500be6b0d55f55f6067907eb7e81ba8c3b82",
      "closedAt": "2025-05-22T14:45:55Z",
      "mergedAt": "2025-05-22T14:45:55Z",
      "mergedBy": "aaronpk",
      "mergeCommit": {
        "oid": "eab870d1f256bcbdbe4071500bb4166a65ec253e"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOKv5r-s6nqdDw",
          "commit": {
            "abbreviatedOid": "ff2336e"
          },
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-05-02T21:20:10Z",
          "updatedAt": "2025-05-02T21:20:11Z",
          "comments": [
            {
              "originalPosition": 5,
              "body": "```suggestion\r\n    &scope=agent.read+agent.write\r\n```\r\n\r\nThe + is here because it represents a URL-encoded space",
              "createdAt": "2025-05-02T21:20:10Z",
              "updatedAt": "2025-05-02T21:20:11Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6nqdRK",
          "commit": {
            "abbreviatedOid": "ff2336e"
          },
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-05-02T21:20:55Z",
          "updatedAt": "2025-05-02T21:20:55Z",
          "comments": [
            {
              "originalPosition": 14,
              "body": "You're right that this one should be a space though.",
              "createdAt": "2025-05-02T21:20:55Z",
              "updatedAt": "2025-05-02T21:20:56Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6nra0x",
          "commit": {
            "abbreviatedOid": "ff2336e"
          },
          "author": "kamronbatman",
          "authorAssociation": "CONTRIBUTOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-05-03T07:24:36Z",
          "updatedAt": "2025-05-03T07:24:37Z",
          "comments": [
            {
              "originalPosition": 5,
              "body": "Yeah this is part of query params, so that makes sense.",
              "createdAt": "2025-05-03T07:24:37Z",
              "updatedAt": "2025-05-03T07:24:37Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6qj6Mp",
          "commit": {
            "abbreviatedOid": "7553500"
          },
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-05-22T14:45:48Z",
          "updatedAt": "2025-05-22T14:45:48Z",
          "comments": []
        }
      ]
    },
    {
      "number": 21,
      "id": "PR_kwDOKv5r-s6bJcXw",
      "title": "use multi-part audience instead of resource in token exchange",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/21",
      "state": "CLOSED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-06-18T21:29:17Z",
      "updatedAt": "2025-06-30T23:19:43Z",
      "baseRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "baseRefName": "main",
      "baseRefOid": "9a3af61be3101b3422c5f5844eb45607f0c9f987",
      "headRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "headRefName": "audience",
      "headRefOid": "4bbc0729ceee46dc5ab423f03c703ace2601cf73",
      "closedAt": "2025-06-30T23:19:42Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "body": "Closing in favor of #27 ",
          "createdAt": "2025-06-30T23:19:42Z",
          "updatedAt": "2025-06-30T23:19:42Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 27,
      "id": "PR_kwDOKv5r-s6cT3tt",
      "title": "use both `audience` and `resource` to identify the resource application",
      "url": "https://github.com/aaronpk/draft-parecki-oauth-identity-assertion-authz-grant/pull/27",
      "state": "MERGED",
      "author": "aaronpk",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "this implements the change described in #24\r\n\r\n* `audience` identifies the authorization server and is required\r\n* `resource` identifies the resource server and is optional",
      "createdAt": "2025-06-26T21:59:46Z",
      "updatedAt": "2025-07-01T18:08:13Z",
      "baseRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "baseRefName": "main",
      "baseRefOid": "5be151b152692b48c3390d512ed7ea3c298bd7ff",
      "headRepository": "aaronpk/draft-parecki-oauth-identity-assertion-authz-grant",
      "headRefName": "resource-audience",
      "headRefOid": "8e82dcf1f0e936f37d3551bba0e343d64e3b573e",
      "closedAt": "2025-06-30T23:20:57Z",
      "mergedAt": "2025-06-30T23:20:57Z",
      "mergedBy": "aaronpk",
      "mergeCommit": {
        "oid": "0cf60b46bc5061f6fe7689b45d69a9b1d2412ba3"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOKv5r-s6wqJ9s",
          "commit": {
            "abbreviatedOid": "16ad824"
          },
          "author": "sdesen",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-06-26T22:06:10Z",
          "updatedAt": "2025-06-26T22:06:10Z",
          "comments": [
            {
              "originalPosition": 12,
              "body": "No mention for 8707?",
              "createdAt": "2025-06-26T22:06:10Z",
              "updatedAt": "2025-06-26T22:16:32Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6wqKkE",
          "commit": {
            "abbreviatedOid": "16ad824"
          },
          "author": "sdesen",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-06-26T22:07:43Z",
          "updatedAt": "2025-06-26T22:07:44Z",
          "comments": [
            {
              "originalPosition": 33,
              "body": "Not sure how an array would work for scopes. \r\nE.g. unless each api uses the same scopes, or all scopes for each api are included in request? should there be clarity there",
              "createdAt": "2025-06-26T22:07:44Z",
              "updatedAt": "2025-06-26T22:07:44Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6wu1YK",
          "commit": {
            "abbreviatedOid": "16ad824"
          },
          "author": "panva",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-06-27T07:17:20Z",
          "updatedAt": "2025-06-27T07:17:20Z",
          "comments": [
            {
              "originalPosition": 33,
              "body": "The semantics of multiple resource indicators and their relation to the scope parameter is the same as at the authorization endpoint for a given AS. The only thing that's different here is the encoding, we're used to seeing these as `application/x-www-form-urlencoded` in which case `resource` can appear multiple times, but when encoded as `application/json` we expect an array (much like if it was part of a JAR Request Object).",
              "createdAt": "2025-06-27T07:17:20Z",
              "updatedAt": "2025-06-27T07:17:20Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6w2N5Q",
          "commit": {
            "abbreviatedOid": "16ad824"
          },
          "author": "aaronpk",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-06-27T15:28:00Z",
          "updatedAt": "2025-06-27T15:28:00Z",
          "comments": [
            {
              "originalPosition": 33,
              "body": "yeah, there is no pairing between resource indicators and scopes in a regular authorization request, and that isn't changing with the addition of this parameter here either. Basically it's undefined in both places.",
              "createdAt": "2025-06-27T15:28:00Z",
              "updatedAt": "2025-06-27T15:28:00Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOKv5r-s6w3xEK",
          "commit": {
            "abbreviatedOid": "8e82dcf"
          },
          "author": "panva",
          "authorAssociation": "NONE",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2025-06-27T17:46:50Z",
          "updatedAt": "2025-06-27T17:46:51Z",
          "comments": []
        },
        {
          "id": "PRR_kwDOKv5r-s6xaeyx",
          "commit": {
            "abbreviatedOid": "8e82dcf"
          },
          "author": "bc-pi",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2025-07-01T18:08:12Z",
          "updatedAt": "2025-07-01T18:08:13Z",
          "comments": [
            {
              "originalPosition": 41,
              "body": "Probably need a JWT claims registration for `resource` too... ",
              "createdAt": "2025-07-01T18:08:13Z",
              "updatedAt": "2025-07-01T18:08:13Z"
            }
          ]
        }
      ]
    }
  ]
}